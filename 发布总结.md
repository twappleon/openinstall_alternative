# OpenInstall å‘å¸ƒæ€»ç»“

## âœ… å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ

1. âœ… **åç«¯å­—æ®µå€¼æ ‡å‡†åŒ–**
   - ä¿®æ”¹äº† `FingerprintService.java`
   - æ·»åŠ äº† `normalizePlatform()`, `normalizeTimezone()`, `normalizeUserAgent()` æ–¹æ³•
   - ç§»é™¤äº† Canvas æŒ‡çº¹çš„è®¡ç®—

2. âœ… **Web ç«¯ MD5 ç®—æ³•**
   - ä½¿ç”¨ `crypto-js` è®¡ç®— MD5
   - ä¸åç«¯ç®—æ³•ä¿æŒä¸€è‡´

3. âœ… **Flutter ç«¯ MD5 ç®—æ³•**
   - ä½¿ç”¨ `crypto` åŒ…è®¡ç®— MD5
   - ä¸åç«¯ç®—æ³•ä¿æŒä¸€è‡´

4. âœ… **å‘å¸ƒè„šæœ¬å’Œè¯´æ˜**
   - åˆ›å»ºäº† `å‘å¸ƒè„šæœ¬.sh`
   - åˆ›å»ºäº† `å‘å¸ƒè¯´æ˜.md`

## ğŸš€ å‘å¸ƒæ­¥éª¤

### 1. æ„å»º Flutter APK

```bash
cd openinstall-flutter
flutter pub get
cd example
flutter build apk --release
```

### 2. å¤åˆ¶ APK åˆ° web ç›®å½•

```bash
cd ../../..
cp openinstall-flutter/example/build/app/outputs/flutter-apk/app-release.apk \
   openinstall-web/downloads/app.apk
```

### 3. æäº¤ä»£ç åˆ° Git

```bash
git add -A
git commit -m "å‘å¸ƒ OpenInstall-flutter å’Œ OpenInstall-web"
git push origin main
```

### 4. éƒ¨ç½²åˆ° Vercel

```bash
cd openinstall-web
npx vercel --prod --yes
```

### æˆ–è€…ä½¿ç”¨å‘å¸ƒè„šæœ¬

```bash
./å‘å¸ƒè„šæœ¬.sh
```

## ğŸ“‹ æœ¬æ¬¡æ›´æ–°å†…å®¹

### åç«¯ (openinstall-backend)

- âœ… å­—æ®µå€¼æ ‡å‡†åŒ–
  - `platform`: `"Win32"` â†’ `"windows"`, `"android"` â†’ `"android"`
  - `timezone`: `"CST"` â†’ `"Asia/Shanghai"` (IANA æ ¼å¼)
  - `userAgent`: æå–å…³é”®ä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬ï¼‰
- âœ… ç§»é™¤ Canvas æŒ‡çº¹ï¼ˆWeb ç«¯ç‰¹æœ‰ï¼‰
- âœ… åç«¯ç»Ÿä¸€è®¡ç®— fingerprintId

### Web ç«¯ (openinstall-web)

- âœ… ä½¿ç”¨ `crypto-js` è®¡ç®— MD5
- âœ… å¼•å…¥ crypto-js CDN
- âœ… æ›´æ–°éƒ¨ç½²é…ç½®

### Flutter ç«¯ (openinstall-flutter)

- âœ… ä½¿ç”¨ `crypto` åŒ…è®¡ç®— MD5
- âœ… æ·»åŠ  `crypto: ^3.0.3` ä¾èµ–
- âœ… ç»Ÿä¸€å­—æ®µç»„åˆæ ¼å¼

## ğŸŒ è®¿é—®åœ°å€

### Web ç«¯

- **ä¸»é¡µ**: https://openinstall-web.vercel.app/
- **æµ‹è¯•é“¾æ¥**: https://openinstall-web.vercel.app/?inviteCode=ABC123
- **APK ä¸‹è½½**: https://openinstall-web.vercel.app/downloads/app.apk

### åç«¯ API

- **API åœ°å€**: https://openinstall-backend.zeabur.app/api
- **å¥åº·æ£€æŸ¥**: https://openinstall-backend.zeabur.app/api/tracking/health

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. Web ç«¯æµ‹è¯•

1. è®¿é—®: https://openinstall-web.vercel.app/?inviteCode=ABC123
2. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
3. æ£€æŸ¥ `fingerprintId` æ˜¯å¦ä¸º 32 ä½ MD5 å­—ç¬¦ä¸²
4. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œç¡®è®¤æ•°æ®å·²ä¿å­˜

### 2. Flutter ç«¯æµ‹è¯•

1. ä¸‹è½½å¹¶å®‰è£… APK
2. æ‰“å¼€åº”ç”¨
3. æ£€æŸ¥æ˜¯å¦èƒ½è·å–åˆ°è¿½è¸ªå‚æ•°
4. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œç¡®è®¤ fingerprintId åŒ¹é…æˆåŠŸ

### 3. ä¸€è‡´æ€§éªŒè¯

åœ¨åŒä¸€è®¾å¤‡ä¸Šï¼š
- Web ç«¯è®¿é—®å¹¶ä¿å­˜æ•°æ®
- Flutter ç«¯æ‰“å¼€åº”ç”¨å¹¶åŒ¹é…æ•°æ®
- æ£€æŸ¥åç«¯æ—¥å¿—ï¼Œç¡®è®¤ fingerprintId ä¸€è‡´

## âš ï¸ é‡è¦æç¤º

1. **åç«¯éœ€è¦é‡æ–°éƒ¨ç½²**
   - å­—æ®µå€¼æ ‡å‡†åŒ–åŠŸèƒ½éœ€è¦é‡æ–°ç¼–è¯‘å’Œéƒ¨ç½²åç«¯
   - ç¡®ä¿åç«¯æœåŠ¡å·²æ›´æ–°

2. **Flutter APK éœ€è¦é‡æ–°æ„å»º**
   - å¦‚æœ APK ä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆæ„å»º
   - æ„å»ºåå¤åˆ¶åˆ° `openinstall-web/downloads/app.apk`

3. **æµ‹è¯•éªŒè¯**
   - å‘å¸ƒååŠ¡å¿…æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
   - ç¡®è®¤ fingerprintId ä¸€è‡´æ€§

## ğŸ“ ç›¸å…³æ–‡æ¡£

- `fingerprintIdé—®é¢˜è§£å†³æ–¹æ¡ˆ.md` - å®Œæ•´çš„é—®é¢˜åˆ†æå’Œè§£å†³æ–¹æ¡ˆ
- `fingerprintIdå·®å¼‚åˆ†æ.md` - å­—æ®µå€¼å·®å¼‚è¯¦ç»†åˆ†æ
- `å‘å¸ƒè¯´æ˜.md` - è¯¦ç»†å‘å¸ƒæ­¥éª¤

---

**å‘å¸ƒå®Œæˆåï¼Œè¯·æµ‹è¯•éªŒè¯æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼** âœ…

